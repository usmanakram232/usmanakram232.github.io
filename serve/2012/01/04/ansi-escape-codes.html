<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta charset="utf-8">
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>ANSI Escape Codes</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="web home of usman akram">
	<meta name="author" content="usmanakram232">

    <!-- Le styles -->
    <link href="./assets/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="./assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="./assets/ico/favicon.png">
  </head>

  <body>

<div class="content">
  <div id="post">
    <h1>
	  <a href="/2012/01/04/ansi-escape-codes.html">ANSI Escape Codes</a>
    </h1>
    <section class="byline">Jan 04, 2012</section>
    <div class="body">
      <h3 id='background'>Background</h3>

<p>Recently while working on a project I figured I should prettify my output a little bit. I tried to implement something that works with the python logging module. Since I personally think former is to complicated for simple printing output to the screen I wrote a simple module myself. After all this I looked around the web, I found a bunch of scripts and alike that implemented it but nothing that gave a nice and simple explanation.</p>

<h2 id='what_are_ansi_codes'>What are ANSI Codes?</h2>

<p>ANSI (American National Standard Institute) codes, or escape sequences are codes, meaning characters, that are part of the printed text. Instead of being displayed like every other characters they are being recognized by terminals and used to change formatting.</p>

<p>Some options include:</p>

<ul>
<li>Bold/Faint</li>

<li>Italics</li>

<li>Underline</li>

<li>Blink</li>

<li>Fonts</li>

<li>Color</li>

<li>Background Color</li>
</ul>

<h2 id='what_to_do'>What to do</h2>

<p>This is going to be really basic for easy formatting. I am going to cover SGR, Select Graphic Rendition. Initially you need to tell the terminal that you are going to use an ANSI Escape Code.</p>

<ul>
<li>CSI n <span>;k</span> m</li>
</ul>

<p>So here comes a small python module that implements all of this.</p>
<div>
  <pre><code class='python'>class ANSIEscapeCodes(object):
    ESCAPE = '\033[%sm'
    ENDC = ESCAPE % '0'

    BOLD = '1;'
    FAINT = '2;' # Not widely supported
    ITALIC = '3;'
    UNDERLINE = '4;'
    SLOW_BLINK = '5;'
    FAST_BLINK = '6;' # Not widely supported

    COLORS = {
        'black': '30',
        'red': '31',
        'green': '32',
        'yellow': '33',
        'blue': '34',
        'magenta': '35',
        'cyan': '36',
        'white': '37',
    }

    def decorate(self, format, msg):
        format_sequence = self.ESCAPE % format
        return format_sequence + msg + self.ENDC

    ### EXAMPLE USE ###

    def white_bold_underlined(self, msg):
        return self.decorate(self.BOLD + self.UNDERLINE + self.COLOR['white'], msg)</code></pre>
</div>
<h2 id='explanation'>Explanation</h2>
<div>
  <pre><code class='python'>ESCAPE = '\033[%sm'
ENDC = ESCAPE % '0'</code></pre>
</div>
<p>This is the core of everything. The Escape Sequence introduces the new formatting and the <code>ENDC</code> resets everything again.</p>
<div>
  <pre><code class='python'>def decorate(self, format, msg):
    format_sequence = self.ESCAPE % format
    return format_sequence + msg + self.ENDC</code></pre>
</div>
<p>Here we simple join all the parts together:</p>

<ul>
<li>Formatting Sequence</li>

<li>Actual Text</li>

<li>Reseting Sequence</li>
</ul>
<div>
  <pre><code class='python'>BOLD = '1;'
FAINT = '2;' # Not widely supported
ITALIC = '3;'
UNDERLINE = '4;'
SLOW_BLINK = '5;'
FAST_BLINK = '6;' # Not widely supported</code></pre>
</div>
<p>Here we set up all the different options that we can reuse later. Note that some of them aren&#8217;t supported very well since its always up to the terminal application to implement these features.</p>
<div>
  <pre><code class='python'>COLORS = {
    'black': 30,
    'red': 31,
    'green': 32,
    'yellow': 33,
    'blue': 34,
    'magenta': 35,
    'cyan': 36,
    'white': 37,
}</code></pre>
</div>
<p>This is just a simple dictionary object containing the color names and the codes that are associated to them.</p>

<h3 id='custom_styles'>Custom styles</h3>
<div>
  <pre><code class='python'>def white_bold_underlined(self, msg):
    return self.decorate(self.BOLD + self.UNDERLINE + self.COLOR['white'], msg)</code></pre>
</div>
<p>This function can be used to print bold, white and underlined text in the terminal. Additional formatting options can be achieved exactly in the same way.</p>

<h2 id='usage'>Usage</h2>

<p>In the end the usage is pretty simple after the setup from before:</p>
<div>
  <pre><code class='python'>ansi = ANSIEscapeCodes()
print ansi.white_bold_underlined(&quot;message&quot;)</code></pre>
</div>
<h1 id='why_use_them'>Why use them?</h1>

<p>Shells don&#8217;t have to be plain white and black. ANSI Formatting can help command line applications to display information better and more efficiently.</p>

<h1 id='and_now'>And now?</h1>

<p>If you want to know more than this Google is your friend. I hope this gives you a background on the topic. There is a lot of material out there and a lot to learn.</p>
    </div>
    <br />
    <ul class="post_taglist">
    
      <li><a class="tag" href="/tag/ANSI">ANSI</a></li>
    
      <li><a class="tag" href="/tag/color">color</a></li>
    
      <li><a class="tag" href="/tag/terminal">terminal</a></li>
    
      <li><a class="tag" href="/tag/programming">programming</a></li>
    
    </ul>
    <div id="post_about">
<h2><a href="/colophon">By Cecil Woebker</a></h2>
<div itemscope itemtype="http://data-vocabulary.org/Person" class="left">
My name is <span itemprop="name">Cecil Woebker</span>.
I am a high school <span itemprop="title">Student</span>.
I live in <span itemprop="address" itemscope
      itemtype="http://data-vocabulary.org/Address">
      <span itemprop="locality">Boston</span>,
      <span itemprop="region">MA</span>.
   </span>
<p>I'm a developer and designer. Follow me on <a href="http://twitter.com/cwoebker">Twitter</a>.</p>
<p>Feel free to ask me a question - <a href="mailto:me@cwoebker.com">me@cwoebker.com</a></p>
<div id="footerbar">
  <div class="social">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="cwoebker">Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <a href="https://twitter.com/cwoebker" class="twitter-follow-button" data-show-count="false">Follow @cwoebker</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </div>
</div>
</div>
<div class="right">
  <img src="http://www.gravatar.com/avatar/08f391968a5dcd91795e388f76f867f4?s=128" height="128" width="128" class="avatar">
</div>
</div>
    <br />
    Included file 'adsense_leaderboard.html' not found in _includes directory
    <br />
    <h1>Comments</h1>
<div id="disqus_thread"></div>
<script type="text/javascript">
  window.disqus_identifier = "/2012/01/04/ansi-escape-codes";
</script>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'cwoebker'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
  Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscrip=cwoebker">comments powered by Disqus.</a>
</noscript>

  </div>
</div>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./assets/js/jquery.js"></script>
    <script src="./assets/js/bootstrap-transition.js"></script>
    <script src="./assets/js/bootstrap-alert.js"></script>
    <script src="./assets/js/bootstrap-modal.js"></script>
    <script src="./assets/js/bootstrap-dropdown.js"></script>
    <script src="./assets/js/bootstrap-scrollspy.js"></script>
    <script src="./assets/js/bootstrap-tab.js"></script>
    <script src="./assets/js/bootstrap-tooltip.js"></script>
    <script src="./assets/js/bootstrap-popover.js"></script>
    <script src="./assets/js/bootstrap-button.js"></script>
    <script src="./assets/js/bootstrap-collapse.js"></script>
    <script src="./assets/js/bootstrap-carousel.js"></script>
    <script src="./assets/js/bootstrap-typeahead.js"></script>
  </body>
</html>
